# Use uma imagem base do Maven com JDK 8 para construir o projeto
FROM maven:3.8.6-openjdk-8 AS builder

# Defina o diret처rio de trabalho
WORKDIR /

# Copie o pom.xml e o c처digo-fonte
COPY pom.xml .
COPY src ./src

# Compile e empacote o aplicativo
RUN mvn clean package

# Use uma imagem base do Tomcat com JDK 8
FROM tomcat:9.0-jdk8
#FROM tomcat:8.5-jre8

# Copie o WAR gerado para o diret처rio webapps do Tomcat
COPY --from=builder target/jsn-desafio.war /usr/local/tomcat/webapps/

# Exponha a porta padr찾o do Tomcat
EXPOSE 8080

# Comando para iniciar o Tomcat
CMD ["catalina.sh", "run"]
